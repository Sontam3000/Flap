{"ast":null,"code":"'use client';\n\nimport React, { useState, useRef } from 'react';\nimport { useMove, useDidUpdate, useMergedRef, clampUseMovePosition } from '@mantine/hooks';\nimport { rem } from '../../../core/utils/units-converters/rem.mjs';\nimport 'clsx';\nimport '../../../core/MantineProvider/Mantine.context.mjs';\nimport '../../../core/MantineProvider/default-theme.mjs';\nimport '../../../core/MantineProvider/MantineProvider.mjs';\nimport { useMantineTheme } from '../../../core/MantineProvider/MantineThemeProvider/MantineThemeProvider.mjs';\nimport { useProps } from '../../../core/MantineProvider/use-props/use-props.mjs';\nimport { useStyles } from '../../../core/styles-api/use-styles/use-styles.mjs';\nimport { Box } from '../../../core/Box/Box.mjs';\nimport { factory } from '../../../core/factory/factory.mjs';\nimport '../../../core/DirectionProvider/DirectionProvider.mjs';\nimport { useColorPickerContext } from '../ColorPicker.context.mjs';\nimport { Thumb } from '../Thumb/Thumb.mjs';\nimport classes from '../ColorPicker.module.css.mjs';\nconst defaultProps = {};\nconst ColorSlider = factory((_props, ref) => {\n  var _useColorPickerContex;\n  const props = useProps(\"ColorSlider\", defaultProps, _props);\n  const {\n    classNames,\n    className,\n    style,\n    styles,\n    unstyled,\n    vars,\n    onChange,\n    onChangeEnd,\n    maxValue,\n    round,\n    size = \"md\",\n    focusable = true,\n    value,\n    overlays,\n    thumbColor = \"transparent\",\n    onScrubStart,\n    onScrubEnd,\n    __staticSelector = \"ColorPicker\",\n    ...others\n  } = props;\n  const _getStyles = useStyles({\n    name: __staticSelector,\n    classes,\n    props,\n    className,\n    style,\n    classNames,\n    styles,\n    unstyled\n  });\n  const ctxGetStyles = (_useColorPickerContex = useColorPickerContext()) === null || _useColorPickerContex === void 0 ? void 0 : _useColorPickerContex.getStyles;\n  const getStyles = ctxGetStyles || _getStyles;\n  const theme = useMantineTheme();\n  const [position, setPosition] = useState({\n    y: 0,\n    x: value / maxValue\n  });\n  const positionRef = useRef(position);\n  const getChangeValue = val => round ? Math.round(val * maxValue) : val * maxValue;\n  const {\n    ref: sliderRef\n  } = useMove(_ref => {\n    let {\n      x,\n      y\n    } = _ref;\n    positionRef.current = {\n      x,\n      y\n    };\n    onChange === null || onChange === void 0 ? void 0 : onChange(getChangeValue(x));\n  }, {\n    onScrubEnd: () => {\n      const {\n        x\n      } = positionRef.current;\n      onChangeEnd === null || onChangeEnd === void 0 ? void 0 : onChangeEnd(getChangeValue(x));\n      onScrubEnd === null || onScrubEnd === void 0 ? void 0 : onScrubEnd();\n    },\n    onScrubStart\n  });\n  useDidUpdate(() => {\n    setPosition({\n      y: 0,\n      x: value / maxValue\n    });\n  }, [value]);\n  const handleArrow = (event, pos) => {\n    event.preventDefault();\n    const _position = clampUseMovePosition(pos);\n    onChange === null || onChange === void 0 ? void 0 : onChange(getChangeValue(_position.x));\n    onChangeEnd === null || onChangeEnd === void 0 ? void 0 : onChangeEnd(getChangeValue(_position.x));\n  };\n  const handleKeyDown = event => {\n    switch (event.key) {\n      case \"ArrowRight\":\n        {\n          handleArrow(event, {\n            x: position.x + 0.05,\n            y: position.y\n          });\n          break;\n        }\n      case \"ArrowLeft\":\n        {\n          handleArrow(event, {\n            x: position.x - 0.05,\n            y: position.y\n          });\n          break;\n        }\n    }\n  };\n  const layers = overlays.map((overlay, index) => /* @__PURE__ */React.createElement(\"div\", {\n    ...getStyles(\"sliderOverlay\"),\n    style: overlay,\n    key: index\n  }));\n  return /* @__PURE__ */React.createElement(Box, {\n    ...others,\n    ref: useMergedRef(sliderRef, ref),\n    ...getStyles(\"slider\"),\n    role: \"slider\",\n    \"aria-valuenow\": value,\n    \"aria-valuemax\": maxValue,\n    \"aria-valuemin\": 0,\n    tabIndex: focusable ? 0 : -1,\n    onKeyDown: handleKeyDown,\n    \"data-focus-ring\": theme.focusRing,\n    __vars: {\n      \"--_cp-thumb-size\": \"var(--cp-thumb-size-\".concat(size, \")\")\n    }\n  }, layers, /* @__PURE__ */React.createElement(Thumb, {\n    position,\n    ...getStyles(\"thumb\", {\n      style: {\n        top: rem(1),\n        background: thumbColor\n      }\n    })\n  }));\n});\nColorSlider.displayName = \"@mantine/core/ColorSlider\";\nexport { ColorSlider };","map":null,"metadata":{},"sourceType":"module"}