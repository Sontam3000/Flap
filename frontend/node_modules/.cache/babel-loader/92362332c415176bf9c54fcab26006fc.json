{"ast":null,"code":"'use client';\n\nimport { isMantineColorScheme } from './is-mantine-color-scheme.mjs';\nfunction localStorageColorSchemeManager() {\n  let {\n    key = \"mantine-color-scheme-value\"\n  } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  let handleStorageEvent;\n  return {\n    get: defaultValue => {\n      if (typeof window === \"undefined\") {\n        return defaultValue;\n      }\n      try {\n        const storedColorScheme = window.localStorage.getItem(key);\n        return isMantineColorScheme(storedColorScheme) ? storedColorScheme : defaultValue;\n      } catch {\n        return defaultValue;\n      }\n    },\n    set: value => {\n      try {\n        window.localStorage.setItem(key, value);\n      } catch (error) {\n        console.warn(\"[@mantine/core] Local storage color scheme manager was unable to save color scheme.\", error);\n      }\n    },\n    subscribe: onUpdate => {\n      handleStorageEvent = event => {\n        if (event.storageArea === window.localStorage && event.key === key) {\n          isMantineColorScheme(event.newValue) && onUpdate(event.newValue);\n        }\n      };\n      window.addEventListener(\"storage\", handleStorageEvent);\n    },\n    unsubscribe: () => {\n      window.removeEventListener(\"storage\", handleStorageEvent);\n    },\n    clear: () => {\n      window.localStorage.removeItem(key);\n    }\n  };\n}\nexport { localStorageColorSchemeManager };","map":null,"metadata":{},"sourceType":"module"}